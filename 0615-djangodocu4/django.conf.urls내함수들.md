####### 20160614 [Django Documentation]


# django.conf.urls 내 함수들


### `url()`


	- url(regex, view, kwargs=None, name=None)

urls.py 모듈에는 렌더링한 페이지의 이름이라 할 수 있는 url을 저장한다. `urlpatterns`는 url()함수들의 인스턴스로 구성된 리스트이다. 

regex는 정규표현식이 포함된 문자열이나 파이썬의 정규표현식 모듈인 `re`과 호환되는 함수인 `ugettext_lazy()`이 온다. 문자열은 보통 원시문자열 구문(`r''`)을 사용하기 때문에 `\d`와 같은 정규표현식 문자를 이스케이프 처리 없이 사용할 수 있다. 

view는 url() 함수가 매치하는 url패턴을 찾을 시 연결해줄 `view 함수`를 적는 옵션이다. 혹은 클래스 기반 뷰를 사용할 경우 as_view()의 값을 적기도 한다. 

name은 url패턴에 지정해줄 이름을 적는 옵션이다. url이름을 지정하면 템플릿에서 해당 이름으로 url을 구성하는 URL reversing을 할 수 있다. 해당 이름에는 파이썬에 구애받지 않고 어떠한 문자든 사용할 수 있다.

URL 패턴의 이름을 지정할 때는 다른 앱의 url이름과 충돌하지 않는 이름을 선택해야한다. URL 패턴 주석을 호출하고 다른 응용 프로그램이 동일한 작업을 수행하는 경우 reverse() 함수가 찾는 URL은 `프로젝트의 urlpatterns 목록의 마지막 패턴`을 따르기 때문이다. 

이 경우에는 [앱 네임스페이스](#URL namespaces)`app_name`을 정의하고 템플릿에서 따로 어떤 앱의 url인지 명시해주기도 한다. url이름을 `앱이름-<패턴명> `으로 짓는 것도 앱간 url충돌을 막는 하나의 방법이라 할 수 있다. [^1] 

만약 다른 앱의 뷰로 오버라이드하고싶다면 일부러 다른 앱의 url이름과 동일하게 짓기도 한다. 예를 들어, 일반적인 사용 사례는 LoginView를 재정의할 때다. Django 및 대부분의 타사 응용 프로그램의 일부는 해당 뷰가 login이라는 이름의 URL패턴을 가지고 있다고 가정한다. 만약 커스텀 로그인 뷰가 있고 해당 view로 연결될 URL에 login이라는 이름을 주면, `reverse() 함수`는 `django.contrib.auth.urls`에 해당 url패턴이 등록되어 있는 한 사용자 정의 뷰로 연결될 것이다.

만약 주어질 인자(arguments)가 다르다면 여러 개의 url패턴에 같은 이름을 줄 수도 있다. URL이름 뿐만 아니라 `reverse() 함수`는 인자의 수와 키워드인자의 수를 일치시킨다.  

<br>

### URL namespaces

URL 네임스페이스를 사용하면 다른 앱이 동일한 URL이름을 사용하는 경우에도 정해진 URL 패턴을 고유하게 역순으로 지정할 수 있다. 다른 앱이 있다면 항상 네임스페이스 URL을 사용하는 것이 좋습니다. 

마찬가지로 응용 프로그램의 여러 인스턴스가 배포되는 경우 URL을 역순으로 지정할 수도 있다. 즉, 단일 응용 프로그램의 여러 인스턴스가 명명된 URL을 공유하므로 네임스페이스는 이러한 명명된 URL을 구분할 수있는 방법을 제공합니다.


#### 앱 네임스페이스

배포할 응용 프로그램의 이름을 설명한다. 하나의 앱 내 모든 인스턴스에는 동일한 앱 네임스페이스가 있다. 예를 들어, Django의 관리 응용 프로그램은 다소 예측 가능한 응용 프로그램 네임 스페이스 'admin'을 가진다.

#### 인스턴스 네임스페이스

이것은 응용프로그램의 특정 인스턴스를 식별한다. 인스턴스 네임스페이스는 전체 프로젝트에서 고유해야할 수도 있고 앱 네임스페이스와 동일 할 수도 있다. 이는 앱의 기본 인스턴스를 지정하는 데 사용된다. 예를 들어, 기본 Django 관리 인스턴스는 인스턴스 네임스페이스 'admin'을 가진다.

`:`을 사용하여 admin(인스턴스 네임스페이스)과 url패턴중 이름을 `admin:index` 의 형태로 써준다.

